<!DOCTYPE html>
<html>
  <head>
    <title>Beefcore</title>
  </head>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Open Graph tags for Discord embed -->
    <meta property="og:title" content="Beefcore" />
    <meta property="og:description" content="somethin" />
    <meta
      property="og:image"
      content="https://raw.githubusercontent.com/MinimackStudios/image-hosting/refs/heads/main/misc/steak.jpg"
    />
    <meta property="og:image:width" content="300" />
    <meta property="og:image:height" content="200" />
    <meta property="og:url" content="https://beefcore.github.io" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Minimack Studios" />
    <!-- Theme color for Discord embed accent -->
    <meta name="theme-color" content="#ff0033" />
    <!-- Twitter Card tags for broader compatibility -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Beefcore" />
    <meta name="twitter:description" content="somethin" />
    <meta
      name="twitter:image"
      content="https://raw.githubusercontent.com/MinimackStudios/image-hosting/refs/heads/main/misc/steak.jpg"
    />
    <meta http-equiv="refresh" content="0; url=https://beefcore.loca.lt" />
    <style>
      body {
        display: none; /* Ensure body is hidden until needed */
        margin: 0;
        font-family: Arial, sans-serif;
        align-items: center;
        background-color: #f0f0f0;
        justify-content: center;
        height: 100vh;
      }
      .message-box {
        padding: 15px 25px;
        border: 2px solid #ff0000;
        border-radius: 10px;
        background-color: #ffffff;
        color: #ff0000;
        font-size: 22px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .main-message {
        margin-bottom: 10px;
      }
      .sub-message {
        font-size: 14px;
        color: #a60000;
        font-weight: bold;
        text-align: center;
      }
      .emoji {
        margin-left: 1px;
      }
    </style>
  </head>
  <body id="errorPage">
    <div class="message-box">
      <div class="main-message">
        Welp, looks like Beefcore is currently down... Check back soon!
        <span class="emoji">ðŸ¥©</span>
      </div>
      <div class="sub-message">
        Would you still like to continue to
        <a href="https://beefcore.loca.lt" style="color: #c20202"
          >https://beefcore.loca.lt</a
        >? Chances are you'll be unable to reach the website.
      </div>
    </div>

    <script>
      // Attempt immediate redirect
      const redirectUrl = "https://beefcore.loca.lt";
      const timeoutMs = 300; // Short timeout to detect failure

      // Function to check navigation and detect "503 - Tunnel Unavailable"
      function attemptRedirect() {
        let redirectTimer = setTimeout(() => {
          // If still on this page after timeout, show error page
          document.getElementById("errorPage").style.display = "flex";
        }, timeoutMs);

        // Perform a quick GET request to check the response body
        fetch(redirectUrl, {
          method: "GET",
          mode: "cors",
          cache: "no-cache",
          redirect: "manual",
        })
          .then((response) => {
            if (!response.ok) {
              return response.text().then((text) => {
                if (text.includes("503 - Tunnel Unavailable")) {
                  clearTimeout(redirectTimer);
                  document.getElementById("errorPage").style.display = "flex";
                } else {
                  window.location.href = redirectUrl;
                }
              });
            } else {
              window.location.href = redirectUrl;
            }
          })
          .catch((error) => {
            // Network error or CORS issue, proceed with redirect or show error
            clearTimeout(redirectTimer);
            document.getElementById("errorPage").style.display = "flex";
          });

        // Try to navigate immediately as a fallback
        window.location.href = redirectUrl;

        // Clear timer if navigation succeeds (page unloads)
        window.onunload = () => clearTimeout(redirectTimer);
      }

      // Run immediately
      attemptRedirect();
    </script>
  </body>
</html>
